interface={{ hotspot_interface }}
dhcp-range={{ hotspot_dhcp_range_start }},{{ hotspot_dhcp_range_end }},255.255.255.0,24h

# Don't forward names without a domain part to upstream DNS
domain-needed

# Don't read /etc/resolv.conf or any other file
no-resolv

# Set DNS servers for clients (fallback to public DNS)
server=8.8.8.8
server=8.8.4.4

# Custom local DNS entries - Pi responds to these domains
{% for domain, ip in dns_domains.items() %}
address=/{{ domain }}/{{ ip }}
{% endfor %}

# Also respond to common localhost variants
address=/localhost/127.0.0.1
address=/pi.local/{{ hotspot_ip }}

# Log DHCP requests for debugging
log-dhcp

# Cache size
cache-size=1000

# Expand hosts - allow short names without domain
expand-hosts

# Local domain name
local=/hotspot/
domain=hotspot
